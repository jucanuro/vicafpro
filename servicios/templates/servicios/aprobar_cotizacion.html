{% extends "base_vicafpro.html" %}
{% load static %}
{% block content %}
<style>
    /* Estilos existentes */
</style>

<div class="space-y-6">
    <header class="flex flex-col md:flex-row items-start md:items-center justify-between gap-6 animate-fade-in-up">
        <h1 class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400">
            Aprobar Cotización
        </h1>
        <a href="{% url 'servicios:lista_cotizaciones' %}" class="inline-flex items-center gap-2 px-8 py-3 bg-slate-800 text-white font-semibold rounded-full hover:bg-slate-700 transition-all duration-300 transform hover:scale-105">
            <i data-lucide="list" class="w-5 h-5"></i>
            Regresar a la Lista
        </a>
    </header>

    <div class="glass-card p-6 rounded-2xl shadow-xl animate-fade-in-up">
        <h2 class="text-xl font-bold mb-4">Cotización N° {{ cotizacion.numero_oferta }}</h2>
        <p class="mb-6">Por favor, sube el comprobante de pago e ingresa el código de operación para aprobar esta cotización.</p>

        {% if error %}
        <div class="bg-rose-500/10 text-rose-300 p-4 rounded-lg mb-4">
            {{ error }}
        </div>
        {% endif %}

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="space-y-4">
                <div>
                    <label for="id_codigo_voucher" class="block text-sm font-medium text-slate-400 mb-1">Código de Operación</label>
                    <input type="text" name="codigo_voucher" id="id_codigo_voucher" required
                           class="w-1/4 px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-primary-accent focus:border-primary-accent transition-all duration-200">
                </div>
                <div>
                    <label for="id_imagen_voucher" class="block text-sm font-medium text-slate-400 mb-1">Voucher de Pago (JPG, PNG, PDF)</label>
                    <input type="file" name="imagen_voucher" id="id_imagen_voucher" required
                           class="w-full text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-500/10 file:text-blue-300 hover:file:bg-blue-500/20 transition-all duration-300">
                </div>
                <div class="flex justify-end mt-6">
                    <button type="submit" class="inline-flex items-center px-6 py-3 bg-primary-accent text-white font-semibold rounded-full hover:bg-blue-600 transition-all duration-300 shadow-lg">
                        <i data-lucide="check" class="w-5 h-5 inline-block mr-2"></i> Aprobar Cotización
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock %}

{% block extra_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    });
</script>
{% endblock %}
